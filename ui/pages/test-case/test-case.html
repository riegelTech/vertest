<main-layout>
    <h2>{{ testCase._testFilePath }}</h2>
    <div class="actions">
        <p v-if="testCase.user">
            <md-icon >person</md-icon>
            <strong>{{ testCase.user.firstName }} {{ testCase.user.lastName }}</strong> {{ testCase.user.email }}
        </p>
        <md-button class="md-icon-button md-raised" @click="showAffectUserPopin()">
            <md-icon>person_add</md-icon>
        </md-button>
        <md-button class="md-icon-button md-raised md-accent">
            <md-icon>thumb_down</md-icon>
        </md-button>
        <md-button class="md-icon-button md-raised md-primary">
            <md-icon>thumb_up</md-icon>
        </md-button>
    </div>
    <div v-html="testCase.mdContent"></div>
    <md-dialog :md-active.sync="affectUserPopin.show">
        <md-dialog-title>Please select an user</md-dialog-title>
        <form>
            <md-field>
                <label for="user">User</label>
                <md-select v-model="affectUserPopin.selectedUser" name="user">
                    <md-option v-for="user in affectUserPopin.users" :value="user._id" :key="user._id">{{ user.firstName }} {{ user.lastName }}</md-option>
                </md-select>
            </md-field>
            <md-dialog-actions>
                <md-button class="md-primary" @click="sendAffectUser()">Affect</md-button>
            </md-dialog-actions>
        </form>
    </md-dialog>
</main-layout>